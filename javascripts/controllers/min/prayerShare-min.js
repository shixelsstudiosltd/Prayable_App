sampleApp.controller("prayerShare",function(e,o,t,r,a){function n(e,t){"g"==t?o.gselection=e:"j"==t&&(o.jselection=e)}$("[name='my-checkbox']").bootstrapSwitch(),o.isLogged=!0;var l=JSON.parse(sessionStorage.getItem("userData"));l&&Object.keys(l).length>0?(o.isLogged=!0,o.prayerInfo={userID:l._id,prayer_text:"",group_id:[],journal_id:[],is_notPrivate:!0,gps_enabled:!0,gps_location:"",newsFeed:!1,fbShare:!1,twitShare:!1},o.savePrayer=function(){console.log(o.prayerInfo);var e={key:"R",prayerData:o.prayerInfo};o.prayerInfo.prayer_text.length>10?$.ajax({method:"POST",url:"http://prayable-21641.onmodulus.net/prayer",data:e,crossDomain:!0,dataType:"json"}).success(function(e,o){400==e.code?alert(e.msg):(console.log(e.id),alert("Prayer is Created"))}).error(function(e,o){console.log(e),console.log(o)}):console.log("Prayer Should be greater than 10 characters")},o.selectGrp=function(){var e={userID:l._id};a({method:"POST",url:"http://prayable-21641.onmodulus.net/allGroup",data:e,crossDomain:!0,dataType:"json"}).success(function(e,t){o.groupList=e,r.open({template:"./partials/groups_popup.html",className:"group_popup",scope:o})}).error(function(e,o){console.log(o)})},o.gselection=[],o.jselection=[],o.toggleSelection=function s(e,t){var r;"g"==t?r=o.gselection:"j"==t&&(r=o.jselection);var a=r.indexOf(e);a>-1?(r.splice(a,1),n(r,t)):(r.push(e),n(r,t))},o.saveSelection=function(e){"g"==e?o.prayerInfo.group_id=o.gselection:"j"==e&&(o.prayerInfo.journal_id=o.jselection)},o.selectjrl=function(){var e={userID:l._id};a({method:"POST",url:"http://prayable-21641.onmodulus.net/allJournal",data:e,crossDomain:!0,dataType:"json"}).success(function(e,t){o.journalList=e,r.open({template:"./partials/journal_popup.html",className:"journal_popup",scope:o})}).error(function(e,o){console.log(o)})},o.selectmsg=function(){r.open({template:"./partials/message_popup.html",className:"message_popup",scope:o})},o.selectfeed=function(){o.prayerInfo.newsFeed=!0},o.fbShare=function(){o.prayerInfo.fbShare=!0},o.twitShare=function(){o.prayerInfo.twitShare=!0},o.tabs=[{title:"To Followers",url:"followers.tpl.html"},{title:"Direct",url:"direct.tpl.html"}],o.currentTab="followers.tpl.html",o.onClickTab=function(e){o.currentTab=e.url},o.isActiveTab=function(e){return e==o.currentTab}):(t.path("/"),o.$$phase||o.$apply()),o.back=function(e){history.back(),o.$apply()},o.go=function(e){t.path(e)}});