sampleApp.controller("prayer",function(a,r,e,t){var n=JSON.parse(sessionStorage.getItem("userData")),s=e.$$path,o=s.substr(8,s.length);if(r.isLogged=!0,n&&Object.keys(n).length>0){r.isprayer=!1,r.isLogged=!0;var p={prayerID:o};t({method:"POST",url:"http://prayable-21641.onmodulus.net/getOnPrayer",data:p,crossDomain:!0,dataType:"json"}).success(function(a,e){a&&(r.isprayer=!0,r.prayerData=a,t({method:"POST",url:"http://prayable-21641.onmodulus.net/seenPrayer",data:p,crossDomain:!0,dataType:"json"}).success(function(a,e){var t=parseInt(r.prayerData.prayerInfo.prayerSeen)+1;r.prayerData.prayerInfo.prayerSeen=t}).error(function(a,r){}))}).error(function(a,r){}),r.createStar=function(a){var e={prayerID:a,userID:n._id};t({method:"POST",url:"http://prayable-21641.onmodulus.net/saveLike",data:e,crossDomain:!0,dataType:"json"}).success(function(a,e){if(400==a.status);else if(201==a.status){var t=a.data.prayerID;t===r.prayerData.prayerInfo._id&&r.prayerData.likeCount--}else{var t=a.data.prayerID;t===r.prayerData.prayerInfo._id&&r.prayerData.likeCount++}}).error(function(a,r){})}}else e.path("/"),r.$$phase||r.$apply();r.go=function(a){e.path(a)},r.back=function(a){history.back(),r.$apply()}});